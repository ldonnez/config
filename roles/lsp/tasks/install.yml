- name: Install language servers
  tags:
    - install

  block:
    - name: Install language servers & linters with npm
      community.general.npm:
        name: "{{ item }}"
        global: true
      loop: "{{ lsp_npm }}"

    - name: Install/Update language servers & linters with cargo
      community.general.cargo:
        name: "{{ item }}"
      loop: "{{ lsp_cargo }}"
      tags:
        - update

    - name: Install/Update language servers & linters with go
      ansible.builtin.command: go install "{{ item }}"
      loop: "{{ lsp_go }}"
      tags:
        - update
