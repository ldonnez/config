- name: Install language servers
  tags:
    - install

  block:
    - name: Install language servers & linters with npm
      community.general.npm:
        name: "{{ item }}"
        global: true
      loop: "{{ npm_lsp }}"

    - name: Install/Update language servers & linters with cargo
      community.general.cargo:
        name: "{{ item }}"
      loop: "{{ cargo_lsp }}"

    - name: Install/Update language servers & linters with go
      ansible.builtin.command: go install "{{ item }}"
      loop: "{{ go_lsp }}"
      tags:
        - update
